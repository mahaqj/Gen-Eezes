<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gen-Eezes â€” AI Trend Newsletter</title>

    <!-- Poppins Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Added sparkles container with multiple sparkle elements -->
    <div class="sparkles-container">
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
    </div>

    <!-- Dark Mode Toggle -->
    <button class="toggle-btn" id="toggleBtn">ðŸŒ™</button>

    <div class="container">

        <!-- Logo -->
        <div class="logo-section">
            <img src="images/logo.png" alt="Gen-Eezes Logo" class="logo">
            <h1 class="brand">Gen-Eezes</h1>
        </div>

        <!-- Description -->
        <section class="description">
            <h2>Daily AI & Tech Trends, Delivered Smartly.</h2>
            <p>
                Gen-Eezes is an automated AI-powered intelligence pipeline that tracks daily activity 
                from arXiv papers, GitHub trending repos, and global tech news.
                We use clustering, embeddings, and trend detection to highlight emerging AI topics 
                while summarizing them concisely so you stay informed without drowning in information overload.
            </p>
        </section>

        <!-- Newsletter Signup -->
        <section class="signup-box">
            <h3>Join the Newsletter</h3>
            <p>Get daily AI insights straight to your inbox.</p>

            <form class="signup-form" id="signupForm">
                <input type="text" id="firstName" placeholder="Enter your first name" required>
                <input type="email" id="email" placeholder="Enter your email address" required>
                <button type="submit">Sign Up</button>
                <p id="message" style="margin-top: 10px; font-size: 14px;"></p>
            </form>
        </section>
    </div>

    <script>
        const btn = document.getElementById("toggleBtn");
        btn.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            btn.textContent = 
                document.body.classList.contains("dark-mode") ? "â˜€ï¸" : "ðŸŒ™";
        });
        
        // handle form submission
        const form = document.getElementById("signupForm");
        const messageEl = document.getElementById("message");
        
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            
            const firstName = document.getElementById("firstName").value;
            const email = document.getElementById("email").value;
            
            try {
                const response = await fetch('/api/signup', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        firstName: firstName,
                        email: email
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    messageEl.style.color = 'green';
                    messageEl.textContent = data.message;
                    form.reset();
                } else {
                    messageEl.style.color = 'red';
                    messageEl.textContent = data.error;
                }
            } catch (error) {
                messageEl.style.color = 'red';
                messageEl.textContent = 'Error: ' + error.message;
            }
        });
    </script>

</body>
</html>
